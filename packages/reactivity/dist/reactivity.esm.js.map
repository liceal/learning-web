{
  "version": 3,
  "sources": ["../src/effect.ts", "../../shared/src/index.ts", "../src/baseHandler.ts", "../src/reactive.ts"],
  "sourcesContent": ["export function effect() {}\r\n", "export function isObject(value) {\r\n  return typeof value === \"object\" && value !== null;\r\n}\r\n", "export enum ReactiveFlags {\r\n  IS_REACTIVE = \"__v_isReactive\",\r\n}\r\n\r\nexport const mutableHandlers: ProxyHandler<any> = {\r\n  get(target, key, recevier) {\r\n    // \u5982\u679C\u662F\u539F\u578B\u4E0A\u7684\u5C5E\u6027\uFF0C\u5219\u76F4\u63A5\u8FD4\u56DE\r\n    if (key === ReactiveFlags.IS_REACTIVE) {\r\n      return true;\r\n    }\r\n\r\n    // \u4F9D\u8D56\u6536\u96C6\r\n\r\n    // \u4F7F\u7528Reflect \u7B2C\u4E09\u4E2A\u53C2\u6570\u91CD\u5199\u6307\u5411this\u4F4D\u7F6E \u907F\u514D\u91CD\u590D\u89E6\u53D1\u5F53\u524D\u7684get\r\n    return Reflect.get(target, key, recevier);\r\n  },\r\n  set(target, key, value, recevier) {\r\n    // \u5982\u679C\u5185\u5BB9\u6CA1\u6709\u6539\u53D8\u5219\u76F4\u63A5\u8FD4\u56DE\r\n    // if (target[key] === value) {\r\n    //   return value;\r\n    // }\r\n\r\n    // \u89E6\u53D1\u89C6\u56FE\u66F4\u65B0\r\n\r\n    return Reflect.set(target, key, value, recevier);\r\n  },\r\n};\r\n", "import { isObject } from \"@myvue/shared/src\";\r\nimport { mutableHandlers, ReactiveFlags } from \"./baseHandler\";\r\n\r\n// \u5F31\u5F15\u7528 \u5982\u679C\u91CD\u590D\u521B\u5EFA\u540C\u4E00\u4E2A\u5185\u5B58\u5730\u5740\u7684\u5BF9\u8C61\uFF0C\u5219\u4E0D\u4F1A\u521B\u5EFA\u65B0\u4EE3\u7406\uFF0C\u76F4\u63A5\u8FD4\u56DE\u540C\u4E00\u4E2A\u5BF9\u8C61\r\nconst reactiveMap = new WeakMap();\r\n\r\nfunction createReactiveObject(target) {\r\n  if (isObject(target)) {\r\n    return target;\r\n  }\r\n  // \u5982\u679C\u662F\u539F\u59CB\u503C\uFF0C\u5219\u76F4\u63A5\u8FD4\u56DE \u89E3\u51B3\u5BF9\u4EE3\u7406\u5BF9\u8C61\u8FDB\u884C\u91CD\u590D\u4EE3\u7406\u7684\u95EE\u9898\r\n  if (target[ReactiveFlags.IS_REACTIVE]) {\r\n    return target;\r\n  }\r\n  // \u5982\u679C\u91CD\u590D\u521B\u5EFA\u5219\u76F4\u63A5\u8FD4\u56DE\u4E4B\u524D\u7684\u4EE3\u7406\u5BF9\u8C61\r\n  const exitsProxy = reactiveMap.get(target);\r\n  if (exitsProxy) {\r\n    return exitsProxy;\r\n  }\r\n  let proxy = new Proxy(target, mutableHandlers);\r\n  //  \u6839\u636E\u5BF9\u8C61\u7F13\u5B58 \u4EE3\u7406\u540E\u7684\u7ED3\u679C\r\n  reactiveMap.set(target, proxy);\r\n  return proxy;\r\n}\r\n\r\nexport function reactive(target) {\r\n  return createReactiveObject(target);\r\n}\r\n"],
  "mappings": ";AAAO,SAAS,SAAS;AAAC;;;ACAnB,SAAS,SAAS,OAAO;AAC9B,SAAO,OAAO,UAAU,YAAY,UAAU;AAChD;;;ACEO,IAAM,kBAAqC;AAAA,EAChD,IAAI,QAAQ,KAAK,UAAU;AAEzB,QAAI,QAAQ,oCAA2B;AACrC,aAAO;AAAA,IACT;AAKA,WAAO,QAAQ,IAAI,QAAQ,KAAK,QAAQ;AAAA,EAC1C;AAAA,EACA,IAAI,QAAQ,KAAK,OAAO,UAAU;AAQhC,WAAO,QAAQ,IAAI,QAAQ,KAAK,OAAO,QAAQ;AAAA,EACjD;AACF;;;ACtBA,IAAM,cAAc,oBAAI,QAAQ;AAEhC,SAAS,qBAAqB,QAAQ;AACpC,MAAI,SAAS,MAAM,GAAG;AACpB,WAAO;AAAA,EACT;AAEA,MAAI,yCAAgC,GAAG;AACrC,WAAO;AAAA,EACT;AAEA,QAAM,aAAa,YAAY,IAAI,MAAM;AACzC,MAAI,YAAY;AACd,WAAO;AAAA,EACT;AACA,MAAI,QAAQ,IAAI,MAAM,QAAQ,eAAe;AAE7C,cAAY,IAAI,QAAQ,KAAK;AAC7B,SAAO;AACT;AAEO,SAAS,SAAS,QAAQ;AAC/B,SAAO,qBAAqB,MAAM;AACpC;",
  "names": []
}
